<div class="col-lg-8" style="padding: 0px">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Current Image</h5>
            <img src="{{ widget.value.url }}" alt="profile picture" class="card-img-bottom">
        </div>
    </div>
</div>

<div class="custom-file col-lg-8 offset-lg-4">
    <input id="picture-file" class="custom-file-input" type="{{ widget.type }}" name="{{ widget.name }}">
    <label class="custom-file-label" for="picture-file">Choose another picture</label>
</div>

<div id='image-block' class="col-lg-8 offset-lg-4" style="padding: 0px; display: none;">
    <div class="card">
        <div class="card-body" id="preview-image">
            <h5 class="card-title">New Image</h5>
        </div>
    </div>
</div>
<script>
    function filePreview(input) {
        if (input.files && input.files[0]) {
            let reader = new FileReader();
            reader.onload = function (e) {
                $('.uploaded-image').remove();
                $('#preview-image').append('<img src="' + e.target.result + '" class="card-img-bottom uploaded-image"/>');
            };
            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#picture-file").change(function () {
        $("#image-block").show()
        filePreview(this);
    });
</script>
